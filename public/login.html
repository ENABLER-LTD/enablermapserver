<html>
<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.33,minimum-scale=1.0,maximum-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit">
    <title>Enabler Location System</title>
    <link rel="stylesheet" rev="stylesheet" href="/stylesheets/iconfont.css" type="text/css" media="all">
    <link rel="stylesheet" rev="stylesheet" href="/stylesheets/txcstx.css" type="text/css" media="all">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <style>
        .tx-login-bg {
            background: url(/images/bg.jpg) no-repeat 0 0;
        }</style>
</head>
<body class="tx-login-bg">
<script>
    const login = function () {
        if ($("#companyno").val() == "" || $("#country").val() == "" || $("#office").val() == "" || $("#department").val() == "" || $("#mailaddress").val() == "" || $("#password").val() == "") {
            alert("情報を全部入力してください。");
        } else {
            $.ajax({
                timeout: 3000,
                type: 'POST',
                url: 'http://localhost:3000/loginbypd',
                contentType: "application/json",
                dataType: "text",
                async: true,
                // data : JSON.stringify({"uid":$("#edtUserUID").val(),"password":$("#edtPassWord").val()}),
                data: JSON.stringify({"data": {"pcompanycode": $("#companyno").val(), "pcountry": $("#country").val(), "poffice": $("#office").val(), "pdep": $("#department").val(), "mail": $("#mailaddress").val(),"pwd": $("#password").val()}}),
                success: function () {
                    window.location.href = '/mainmap';
                },
                error: function () {
                    alert("User is not found");
                }

            })
        }
    }
</script>
<div class="tx-login-box">
    <div class="login-avatar bg-black"><i class="iconfont icon-wode"></i></div>
    <ul class="tx-form-li row">
        <li class="col-24 col-m-24"><p><input type="text" id="companyno" name="companyno" placeholder="companyno"
                                              class="tx-input" value=""><i>企業番号/Company no(5桁)</i></p></li>
        <li class="col-24 col-m-24"><p><input type="text" id="country" name="country" placeholder="country"
                                              class="tx-input" value=""><i>国.地域/Country no(3桁)</i></p></li>
        <li class="col-24 col-m-24"><p><input type="text" id="office" name="office" placeholder="office"
                                              class="tx-input" value=""><i>事業所番号/Offlce no(3桁)</i></p></li>
        <li class="col-24 col-m-24"><p><input type="text" id="department" name="department" placeholder="department"
                                              class="tx-input" value=""><i>部門番号/Department no(3桁)</i></p></li>
        <li class="col-24 col-m-24"><p><input type="text" id="mailaddress" name="mailaddress" placeholder="mailaddress"
                                              class="tx-input" value=""><i>メールアドレス/Mail address(*@*)</i></p></li>
        <li class="col-24 col-m-24"><p><input type="password" id="password" name="password" placeholder="password"
                                              class="tx-input" value=""><i>パスワード/password（*）</i></p></li>
        <li class="col-24 col-m-24">
            <p class="tx-input-full">
                <button type="submit" id="loginbtnPost" name="loginbtnPost" onclick="login()"
                        class="tx-btn tx-btn-big bg-black">Sign In
                </button>
            </p>
        </li>
    </ul>
</div>


</body>
</html>
